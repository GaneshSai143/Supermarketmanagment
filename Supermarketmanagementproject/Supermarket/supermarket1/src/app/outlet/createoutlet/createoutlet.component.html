<div *ngIf="createForm"
class="alert alert-success" (click)="clear()">✖
  <strong>Success! </strong>
</div>
<div *ngIf="danger"
class="alert alert-danger" (click)="clear()">✖
  <strong>not added! </strong>
</div>
<p>createcompany works!</p>
<div class="col-md-4 offset-md-3">
    <h2>Create outlet</h2>
    <form  #Registerform="ngForm" (ngSubmit)="onSubmit()" >
        <div class="form-group">
            <label for="name">Outlet name*</label>
            <input type="text" class="form-control" id="outletname" name="outletname"
            [(ngModel)]="outlet.outletname" required #name="ngModel" 
             [class.is-invalid]="name.invalid && name.touched">
             <div *ngIf="name.errors &&  (name.invalid && name.touched)">
                <small class="text-danger" *ngIf="name.errors?.['required']">name field is required</small>
                </div>  
            
        </div>
        <div class="form-group">
            <label for="ocode">Outlet Code*</label>
            <input type="number" class="form-control" id="ocode" name="ocode"
            [(ngModel)]="outlet.ocode" required #ocode="ngModel"
             [class.is-invalid]="ocode.invalid && ocode.touched" (click)="clear()">
             <div *ngIf="ocode.errors &&  (ocode.invalid && ocode.touched)">
                <small class="text-danger" *ngIf="ocode.errors?.['required']">code field is required</small>
                </div> 
                <div *ngIf="duplicate" class="text-danger">Duplicate code..</div>
               


        </div>
        <!--<div class="form-group">
            <label> Created User Name</label>
            <input type="text" class="form-control" id="cusername" name="cusername"
            [(ngModel)]="companyDto.cusername">
        </div>
        <div class="form-group">
            <label>Company Address</label>
            <input type="text" class="form-control" id="address" name="address"
            [(ngModel)]="companyDto.address">
        </div>
        <div class="form-group">
            <label>Product codes</label>
            <input type="text" class="form-control" id="discription" name="discription"
            [(ngModel)]="companyDto.discription">
        </div>-->
        
        <div class="form-group">
            <label for="firstName">First Name*</label>
            <input type="text" class="form-control" id="firstName" name="firstName"
            [(ngModel)]="userdto.firstName" required #firstName="ngModel">
            <div *ngIf="firstName.errors &&  (firstName.invalid && firstName.touched)">
                <small class="text-danger" *ngIf="firstName.errors?.['required']">firstName field is required</small>
                </div>
        </div>

       
    
        <div class="form-group">
            <label for="lastName">Last Name*</label>
            <input type="text" class="form-control" id="lastName" name="lastName"
            [(ngModel)]="userdto.lastName" #lastName="ngModel" required [class.is-invalid]="lastName.invalid && lastName.touched"/>
            <div *ngIf="lastName.errors &&  (lastName.invalid && lastName.touched)">
            <small class="text-danger" *ngIf="lastName.errors?.['required']">LastName field is required</small>
            </div>
        </div>
        <div class="from-group">
            <label for="email"> Email Id* :</label>
            <input type="email" class="form-control" id="email" name="email"  required pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
           placeholder="Enter Email" [(ngModel)]="userdto.emailId" 
            #email="ngModel" 
           [class.is-invalid]="email.invalid && email.touched" (click)="clear()"/>
         
       
        
        <div *ngIf="email.errors &&  (email.invalid && email.touched)">
           <small class="text-danger" *ngIf="email.errors?.['required']">Email Id field is required</small>
           <small class="text-danger" *ngIf="email.errors?.['pattern']">Enter valid email id</small>
        </div>
        <!-- <div *ngIf="emailduplicate" class="text-danger">Duplicate email</div> -->
        </div>
      <!--  <div *ngFor="let user of users">
            <div *ngIf="!user.emailId"     class="text-danger">Duplicate email</div>
        </div>-->
  
         
        <div class="form-group">
              <label for="roletype">Role*</label>
             <div>
              <select name="roletype" id="roletype" [(ngModel)]="userdto.roletype" class="form-control" 
              required #roletype="ngModel" [class.is-invalid]="roletype.invalid && roletype.touched">
                <option selected="selected" value="Roles">--ROLES--</option>
                <option value="ROLE_OUTLET_ADMIN">ROLE_OUTLET_ADMIN</option>
                </select>
                <div *ngIf="roletype.errors &&  (roletype.invalid && roletype.touched)">
                    <small class="text-danger" *ngIf="roletype.errors?.['required']">Role field is required</small>
                    <!-- <small class="text-danger" *ngIf="email.errors?.['pattern']">Enter valid email id</small> -->
                 </div>
             </div>
         </div>

         

        
        <div class="form-group" >
            <label for="productCode">Product Code</label>
            <li *ngFor="let item of productData">
                <input type="checkbox" [(ngModel)]="item.isselected" (click)="onChange()" name="item.pname"
                [value]="item.pcode" >{{item.pname}}
               
              </li>
            <div *ngIf="isok" class="text-danger">please check at least one</div>
        

      </div>


          <div>
            <button [disabled]="Registerform.form.invalid" type="submit" class="btn btn-info">Register</button>
     
    </div>
</form>    
</div>
<button (click)="goback()">Back</button>

<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin-clockwise">  
    <p style="color: white">Please Wait. </p>  
    </ngx-spinner>